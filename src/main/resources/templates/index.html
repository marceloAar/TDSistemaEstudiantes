<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Sistema de Estudiantes</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
	crossorigin="anonymous">
</head>

<body>

<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold py-2" href="/estudiantes">Sistema de Estudiantes</a>  
  </div>
</nav>

	<div class="container my-3">

		<div class="py-2">
			<form th:action="@{/filtrar}" method="POST" class="row g-4">

				<div class="col-xs-12 col-md-4 col-lg-4">
					<label for="select-region" class="form-label text-muted small mx-2">Regi贸n</label>
					<select name="region" id="region" class="form-select">
						<option th:value="0" selected>Elija una regi贸n</option>
						<option th:each="reg : ${regiones}" 
								th:text="${reg.nombre}"
							 	th:value="${reg.codigoRegion}" />
					</select>
				</div>

				<div class="col-xs-12 col-md-4 col-lg-4">
					<label for="select-curso" class="form-label text-muted small mx-2">Curso</label>
					<select name="curso" id="curso" class="form-select" >
						<option th:value="0" selected>Elija un curso</option>
						<option th:each="plan : ${planes}" th:text="${plan.descripcion}"
								th:value="${plan.codigoPlanFormativo}" />
					</select>
				</div>
				
				<div
					class="col-xs-12 col-md-4 col-lg-4 d-flex align-items-end justify-content-center">
					<button type="submit" class="btn btn-primary px-5 fw-bold">Filtrar</button>
				</div>
			</form>
		</div>

		<table class="table table-striped mt-5">
			<thead>
				<tr>
					<th>Rut</th>
					<th>Nombre</th>
					<th>Apellido Paterno</th>
					<th>Apellido Materno</th>
					<th>C贸digo Curso</th>
					<th>Descripci贸n Curso</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="est : ${estudiantes}">
					<td th:text="${est.rut}"></td>
					<td th:text="${est.nombre}"></td>
					<td th:text="${est.apellidoPat}"></td>
					<td th:text="${est.apellidoMat}"></td>
					<td th:text="${est.curso.codigoCurso}"></td>
					<td th:text="${est.curso.plan.descripcion}"></td>
				</tr>
			</tbody>
		</table>
	</div>


</body>
</html>
